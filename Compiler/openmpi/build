#!/usr/bin/env modbuild

pbuild::configure() {
	"${MODULE_SRCDIR}"/configure \
		--prefix="${PREFIX}" \
		--enable-mpi-cxx \
		--enable-mpi-cxx-seek \
		--enable-mpi-f90 \
		--enable-mpi-profile \
		--enable-orterun-prefix-by-default \
		--enable-shared \
		--enable-smp-locks \
		--with-sge=yes \
		--with-slurm=yes \
		|| exit 1
}

pbuild::add_to_group 'Compiler'
pbuild::set_runtime_dependencies "${COMPILER}"
pbuild::set_build_dependencies "${COMPILER}"
pbuild::set_docfiles 'AUTHORS' 'LICENSE' 'NEWS' 'README'
pbuild::make_all
